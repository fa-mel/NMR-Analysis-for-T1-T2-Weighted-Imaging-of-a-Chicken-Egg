# T1 and T2 Weighted Imaging of a Chicken Egg

This project provides a Python-based pipeline for the analysis of Nuclear Magnetic Resonance (NMR) relaxation data from a chicken egg. The primary goal is to determine the optimal imaging parameters (TR and TE) for generating T1-weighted and T2-weighted contrast between the yolk and albumen.

## Background

In Magnetic Resonance Imaging (MRI), image contrast is generated by exploiting the differences in the NMR relaxation properties of tissues. The two fundamental relaxation times are:
- **T1 (Longitudinal Relaxation)**: The time constant describing how the longitudinal magnetization recovers to its thermal equilibrium. It is sensitive to the molecular environment (spin-lattice interactions).
- **T2 (Transverse Relaxation)**: The time constant describing the decay of transverse magnetization due to spin-spin interactions. It is sensitive to molecular mobility.

By carefully selecting the **Repetition Time (TR)** and **Echo Time (TE)** in a pulse sequence, we can create images where the signal intensity is primarily dependent on either the T1 or T2 differences between tissues.

## Project Structure

- `analysis.py`: The main Python script containing the `NmrAnalysisPipeline` class. It loads the data, performs the analysis, generates plots, and calculates optimal parameters.
- `requirements.txt`: A file listing the necessary Python libraries to run the project.
- `*.dat`: The raw data files from the NMR spectrometer (processed by UPENWin). These are required for the script to run.
- `.gitignore`: A standard file to exclude unnecessary files from Git version control.
- `README.md`: This file.

## Installation

To run this project, you need Python 3 and the libraries listed in `requirements.txt`.

1.  **Clone the repository:**
    ```bash
    git clone <your-repository-url>
    cd <your-repository-name>
    ```

2.  **Create a virtual environment (recommended):**
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

3.  **Install the required libraries:**
    ```bash
    pip install -r requirements.txt
    ```

## Usage

1.  Place your UPENWin output files (`.dat`) in the same directory as `analysis.py`.
2.  Ensure the file names in the `file_paths` dictionary at the bottom of `analysis.py` match your data files.
3.  Run the script from your terminal:
    ```bash
    python analysis.py
    ```

The script will execute in three phases:
1.  **Relaxation Data Analysis**: It will process each `.dat` file, generate plots for the signal curves and relaxation distributions, and print the calculated T1/T2 values.
2.  **Final Reports**: It will print summary tables of the relaxation times in both plain text and LaTeX format.
3.  **Imaging Parameter Optimization**: It will use the calculated T1 and T2 values to simulate the Spin-Echo signal and generate a plot showing the optimal TR and TE for maximum contrast.

## Authors

- Francesco Amerigo Mellini
- Valentina Moruzzi
